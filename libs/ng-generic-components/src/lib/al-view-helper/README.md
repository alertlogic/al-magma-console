# AlViewHelperComponent Usage

## Summary

The AlViewHelperComponent rolls common top-level view functionality (zero state, loading indicator, error notifications) into a
single utility component with a public API.

## Basic Usage

Embed the component into your view template using the usual notation:

```
<al-view-helper [loading]="expression indicating whether loading is active"
                [empty]="expression indicating whether the view is empty and the zero state should be shown"
                [notifyPanel]="expression indicating whether the notification panel should be enabled">
    <span zero-state-title>Top level text for a zero state condition goes here.</span>
    <span zero-state-description>Secondary text for a zero-state condition goes here.</span>
    <i zero-state-icon class="material-icons">info</i>
</al-view-helper>
```

Note that the elements with attrs `zero-state-title`, `zero-state-description`, and `zero-state-icon` will be content projected
into the relevant portions of the zero state display; typically, the element denoted as the `zero-state-icon` should be a material design
icon of the appropriate type for the view, or a generic info icon.

The component may also be interacted with programmatically in your controller.

In your header:
```
import { AlViewHelperComponent } from '@al/ng-generic-components';
```

In your component class:
```
@ViewChild(AlViewHelperComponent) viewHelper:AlViewHelperComponent;
```

## Load Indicator

The load indicator can be controlled by binding `[loading]` to an expression, OR by calling the `startLoading()` and `stopLoading()` mechanisms on the component instance.

## Zero State

The zero state can be enabled by binding `[empty]` to an expression that evaluates to true, OR by calling `enableZeroState()` on the component instance.

When enabled, the zero state will be constructed using content projection -- the spans with `zero-state-title` and `zero-state-description` attributes will be used for the text.

## Error State

The error state can be triggered by binding `[error]` to a description of the error that occurred -- any truthy value will work, although there is special logic
for handling `Error` and API Response objects (`AxiosResponse`, generally anything generated by a nepal client or AlDefaultClient) that make it desirable to use those when they are
available.

The user can also bind a callable/`Function` to the view helper's `[retryHandler]` @Input() -- if available, the error state will display a "Retry" button
as its primary action.  Clicking the retry button will clear the error state and call that function (which would typically, one presumes, use a loading indicator
to tell the user it is "trying again").

## Notifications

Notifications can be used by binding `[notifyPanel]` to an expression that evaluates to true and then using the notification-related methods on the component instance.

To emit an info notification that autodismisses in 10 seconds:

```
viewHelper.notifyInfo( "We are feeling quite groovy today.", 10000 );
```

To emit a warning notification that does not autodismiss:

```
viewHelper.notifyWarning( "I'm a little worried about that growth in your left buttock, Jim...  do me a favor and get down to the medical bay." );
```

And to emit an error notification:

```
viewHelper.notifyError("EPIC FAIL FULL STOP", 6000 );
```
